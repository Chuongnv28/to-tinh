<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Text Xoắn Trụ 3D</title>
  <style>
    body {
      margin: 0;
      background: black;
      overflow: hidden;
      font-family: 'Segoe UI', sans-serif;
      perspective: 1000px;
    }

    #cylinder {
      position: absolute;
      top: 50%;
      left: 50%;
      transform-style: preserve-3d;
      transform: translate(-50%, -50%) rotateX(0deg);
      animation: rotateCylinder 20s linear infinite;
    }

    .text {
      position: absolute;
      color: #fff;
      font-size: 24px;
      font-weight: bold;
      white-space: nowrap;
      transition: transform 1s, opacity 1s;
    }

    @keyframes rotateCylinder {
      0%   { transform: translate(-50%, -50%) rotateY(0deg); }
      100% { transform: translate(-50%, -50%) rotateY(360deg); }
    }
  </style>
</head>
<body>

<div id="cylinder"></div>

<script>
  const texts = [
    "Em chính là định mệnh của đời anh.",
    "Gặp em là điều tuyệt vời nhất.",
    "Anh không cần gì nhiều, chỉ cần em.",
    "Chỉ cần em gật đầu, anh sẽ đến bên em ngay.",
    "Từ khi có em, thế giới anh rực rỡ hẳn lên.",
    "Mỗi lần nhìn em, tim anh lại loạn nhịp.",
    "Chúng ta sinh ra là để dành cho nhau.",
    "Anh ước được bên em mãi mãi.",
    "Trái tim anh đã thuộc về em.",
    "Em là lý do để anh mỉm cười mỗi ngày."
  ];

  const cylinder = document.getElementById('cylinder');
  const radius = 200;
  let isOpen = false;

  function createCylinder() {
    cylinder.innerHTML = '';
    texts.forEach((text, i) => {
      const div = document.createElement('div');
      div.className = 'text';
      div.innerText = text;

      const angle = (360 / texts.length) * i;
      div.style.transform = `rotateY(${angle}deg) translateZ(${radius}px) translateY(${i * 10}px)`;
      div.style.color = getRandomColor();
      cylinder.appendChild(div);
    });
  }

  function openCylinder() {
    const children = cylinder.children;
    for (let i = 0; i < children.length; i++) {
      children[i].style.transform = `rotateY(0deg) translateZ(0px) translateY(${i * 50 - 250}px)`;
      children[i].style.opacity = 1;
    }
  }

  function closeCylinder() {
    const children = cylinder.children;
    for (let i = 0; i < children.length; i++) {
      const angle = (360 / texts.length) * i;
      children[i].style.transform = `rotateY(${angle}deg) translateZ(${radius}px) translateY(${i * 10}px)`;
      children[i].style.opacity = 1;
    }
  }

  function getRandomColor() {
    const colors = ['#ffccff', '#ff99cc', '#ccffff', '#ffffcc', '#ffccee', '#ccffcc', '#99ccff'];
    return colors[Math.floor(Math.random() * colors.length)];
  }

  createCylinder();

  // Đổi trạng thái mở / đóng trụ mỗi 5s
  setInterval(() => {
    isOpen = !isOpen;
    isOpen ? openCylinder() : closeCylinder();
  }, 5000);
</script>

</body>
</html>
